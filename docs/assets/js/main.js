"use strict";const user=document.querySelector(".js_user"),pass=document.querySelector(".js_pass"),loginButton=document.querySelector(".js_login"),logoutButon=document.querySelector(".js_logout"),hideSection=document.getElementById("hideSection");var resultsContainer=document.getElementById("resultsContainer");const pagination=document.querySelector(".js_pagination");var btn_next=document.getElementById("btn_next"),btn_prev=document.getElementById("btn_prev"),page_span=document.getElementById("page");let login=[],results=[],buttons="";function userLogin(){user.value===login.user&&pass.value===login.pass?(console.log("im in"),hideSection.classList.add("hidden"),pagination.classList.remove("hidden"),logoutButon.classList.remove("hidden")):alert("Porfavor ingrese nombre de usuario y contraseña correctos."),changePage(1)}function handleLogin(e){e.preventDefault(),userLogin()}function handleLogout(){location.reload()}var current_page=1,records_per_page=4;function prevPage(){current_page>1&&changePage(--current_page)}function nextPage(){current_page<numPages()&&changePage(++current_page)}function changePage(e){e<1&&(e=1),e>numPages()&&(e=numPages()),resultsContainer.innerHTML="";for(var t=(e-1)*records_per_page;t<e*records_per_page&&t<results.length;t++)resultsContainer.innerHTML+=`<li class="results__item">\n       <p class="results__name">Nombre del fichero: ${results[t].name}</p>\n       <p class="results__date">fecha de inserción: ${results[t].date}</p>\n       <p class="results__actualization">última actualización: ${results[t].actualization}</p>\n       <p class="results__os">sistema operativo: ${results[t].os}</p>\n     </li>`;page_span.innerHTML=e,btn_prev.style.visibility=1==e?"hidden":"visible",e==numPages()?btn_next.style.visibility="hidden":btn_next.style.visibility="visible"}function numPages(){return Math.ceil(results.length/records_per_page)}function callToApi(){fetch("https://raw.githubusercontent.com/patricuismart/api-ravenloop-tech-test/main/api/data.json").then(e=>e.json()).then(e=>{login=e.login,results=e.results})}callToApi(),loginButton.addEventListener("click",handleLogin),logoutButon.addEventListener("click",handleLogout);